(this["webpackJsonpspirals-no-1"]=this["webpackJsonpspirals-no-1"]||[]).push([[0],{15:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(9),s=n.n(o),d=(n(15),n(2));window.p5=d;n(17);var r=n(10),c=n(0);function u(){return Object(c.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(c.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(c.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var l=n.p+"static/media/spirals-no-1.9185153b.ogg",h=n.p+"static/media/spirals-no-1.2ed6706e.mid",g=function(){var e=Object(i.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.maxSpiralSize=0,e.loadMidi=function(){r.Midi.fromUrl(h).then((function(t){var n=t.tracks[3].notes,i=t.tracks[4].notes,a=t.tracks[2].notes,o=t.tracks[6].notes.filter((function(e){return 36===e.midi||37===e.midi}));e.scheduleCueSet(n,"executeCueSet1"),e.scheduleCueSet(i,"executeCueSet2"),e.scheduleCueSet(a,"executeCueSet3"),e.scheduleCueSet(o,"executeCueSet4"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(l,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,n){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=-1,o=1,s=0;s<t.length;s++){var d=t[s],r=d.ticks,c=d.time;(r!==a||i)&&(d.currentCue=o,e.song.addCue(c,e[n],d),a=r,o++)}},e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB,360,100,100),e.stroke(255),e.noFill(),e.background(0),e.noLoop(),e.maxSpiralSize=e.width>=e.height?e.height/2:e.width/2},e.draw=function(){e.audioLoaded&&e.song.isPlaying()},e.executeCueSet1=function(t){t.currentCue<90&&e.background(0);var n=e.random(.1,5);e.drawSpiral(e.width/8*7,e.height/4*3,n,3,1)},e.executeCueSet2=function(t){var n=e.random(1,20);e.drawSpiral(e.width/4,e.height/2,8,n,1)},e.executeCueSet3=function(t){var n=e.random(4,8),i=e.random(5,10),a=e.random(8,23),o=e.maxSpiralSize*(n/i/a),s=1e3*t.duration/o;e.drawSpiral(e.width/8*5,e.height/8*3,n,i,a,s)},e.executeCueSet4=function(t){var n=t.midi,i=e.random(1,2);36===n&&e.drawSpiral(e.width/2,e.height/8*7,i,3,1,1),37===n&&e.drawSpiral(e.width/16*13,e.height/8*1.5,i,3,1,1)},e.timeouts=[],e.drawSpiral=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,d=e.maxSpiralSize*(i/a/o),r=e.random(0,360),c=t,u=n;s<0&&(s=1e3/d);for(var l=function(i){e.timeouts.push(setTimeout((function(){var s=o/10*i,l=t+a*s*Math.sin(s),h=n+a*s*Math.cos(s);e.strokeWeight(12),e.stroke(r,100/d*i,100,.15),e.line(c,u,l,h),e.strokeWeight(2),e.stroke(r,100/d*i,100),e.line(c,u,l,h),c=l,u=h}),s*i))},h=0;h<d;h++)l(h)},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play())),e.draw()},e.creditsLogged=!1,e.logCredits=function(){if(!e.creditsLogged&&Math.ceil(e.song.currentTime())>=parseInt(e.song.buffer.duration)){e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/");for(var t=0;t<e.timeouts.length;t++)clearTimeout(e.timeouts[t]);e.song.stop()}},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((function(){new d(t,e.current)}),[]),Object(c.jsx)("div",{ref:e,children:Object(c.jsx)(u,{})})};var v=function(){return Object(c.jsx)(g,{})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.6cc051f5.chunk.js.map